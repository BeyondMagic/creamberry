#!/usr/bin/env sh
#
# Description
#   Simple script to notify the volume settings of both sides
#   left and right
#
# Dependencies
#   libnotify ; notify-send
#   libpulse ; pactl
# 
# BeyondMagic © 2021

[ "$1" = "increase" ] && pactl -- set-sink-volume @DEFAULT_SINK@ +2% || pactl -- set-sink-volume @DEFAULT_SINK@ -2% 

notify-send $(pactl list sinks |
  grep "ボリューム" | head -n 1 |
  sed -r \
  -e "s/\tボリューム: front-left: [0-9]* \/ +//" \
  -e "s/ \/( | -)[0-9]*\.[0-9]* dB, *front-right: [0-9]*.{2} */ /" \
  -e "s/ \/( | -)[0-9]*\.[0-9]* dB//" |
  tr -d '\n' | tr ' ' '-')
